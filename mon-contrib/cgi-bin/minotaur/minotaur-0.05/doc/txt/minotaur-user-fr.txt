
              Le manuel utilisateur de l'interface web Minotaure
                                       
Gilles Lamiral

   v0.4, 17 mars 2000
     _________________________________________________________________
   
   Ce document décrit l'utilisation de l'interface HTML du logiciel
   Minotaure. 
     _________________________________________________________________
   
1. Liens

   Le page de garde Minotaur et la démonstration en ligne est disponible
   à l'adresse http://www.linux-france.org/prj/minotaure/
   
   Une instance locale est peut-être disponible à l'adresse
   ../../cgi-bin/minotaur.cgi.
   
   Toute question peut-être posée sur la liste de diffusion de MON.
   Envoyer simplement votre question à mailto:mon@linux.kernel.org
   
   La page de garde de MONest http://www.kernel.org/software/mon
   
2. Principes

   Minotaure est un logiciel client pour le server MON. MON est un outil
   de supervision écrit par Jim Trocki.
   
   Le logiciel MON est un ordonnanceur général qui exécute des tests
   périodiquement sur un ensemble de services et déclenche des alarmes en
   cas de détection de problème.
   
   L'ordonnanceur peut être interrogé suivant un protocole simple (en
   mode texte) sur un port prédéfini (2583).
   
   L'interface est basé sur ce protocole. Le script CGI (Common Gateway
   Interface) interroge l'ordonnanceur et présente les résultat sous le
   standard HTML. Par souci d'efficacité, de simplicité, de compatibilité
   et de stabilité, les java, javascript, frame, et autres avatars du web
   ne sont pas utilisés.
   
   Pour comprendre l'interface Web, il faut penser à la hiérarchie
   suivante:
     * L'ordonnanceur surveilles des groupes.
     * Les groupes sont constitués d'items.
     * Ces items peuvent être des machines présentées par leur nom ou
       leur adresse IP, ou tout autre chose, des répertoires par exemple.
     * Sur chaque groupe d'items, l'ordonnanceur surveille un ou
       plusieurs services. Chaque service est testé par un logiciel
       appelé un moniteur.
     * Pour chaque service, l'ordonnanceur peut déclencher une ou
       plusieurs alarmes, quand un problème est detecté.
       
3. Présentation générale

   Tout est sur une seule page, composée de cinq partie, séparées par une
   ligne. Ces parties sont nommées Infos, État, Vue croisée, Historique
   and Préférences.
   
   Le titre de la page présente le nom du serveur MON contacté, suivi par
   le port utilisé, la date et l'heure du serveur. Ce titre apparait dans
   le bandeau supérieur de la fenêtre, au dessus des menus de votre
   navigateur.
   
   Le haut de la page présente le nom du serveur MON contacté, la date et
   l'heure du serveur.
   
   Une barre de liens au dessus de chaque tableau permet de se déplacer
   rapidement dans les différentes sections de la page ou d'atteindre la
   présente documentation.
   
   La partie infos est juste un emplacement où l'administrateur du
   logiciel renseigne des informations utiles, des liens vers d'autres
   pages, un logo etc.
   
   Le tableau État présente l'état des différents services.
   
   Le tableau Vue Croisée est utilisée pour présenter les information du
   tableau État sous une forme complétement différente. Cette
   présentation est choisie par l'administrateur du logiciel.
   
   Le tableau Historique présente la liste des alertes générées.
   
   Le tableau Préférences est toujours présent à la fin de la page. Ce
   tableau vous permet de choisir et conserver les options de
   présentation ainsi que les information de login.
   
4. Le tableau des préférences

   [INLINE]
   
   CAPTION: Le tableau des préferences
   
   Avec le menu déroulant Rafraîchissement, vous sélectionnez le délai de
   rafraîchissement de la page. Ce taux de rafraîchissement est
   complètement indépendant des intervalles de test des services.
   
   Avec le menu déroulant langage vous sélectionnez le langage utilisé
   dans la page.
   
   Avec les boutons appelés Infos, État, Historique, Vue Croisée, vous
   sélectionnez les tableaux que vous voulez afficher.
   
   Les champs Utilisateur et Mot de Passe vous permettent de réaliser des
   actions nécessitant une authentification sur le server MON.
   
5. Le tableau État

   [INLINE]
   
   CAPTION: Le tableau État
   
   La colonne ``host''.
          Cette colonne contient la liste de toutes les ``machines''
          testées. Les machines dont les tests sont en suspend sont
          sélectionnées. Vous pouvez selectionner ou déselectionner
          certaines machines.
          
   La colonne ``groupe''.
          Cette colonne donne le nom des groupes de machines.
          
   La colonne ``Membres''.
          Cette colonne les listes des machines composant chaque groupe,
          une liste par groupe. cell.
          
   La colonne ``Service''.
          Cette colonne nomme les services. Un groupe peut posséder
          plusieurs services. Le bouton HS permet de changer l'état du
          service. Les alertes ne sont plus déclenchées lorsque le
          service est bleu.
          
   Les colonnes ``Dernier à'' and ``Prochain dans''.
          La cellule ``Dernier à'' mentionne l'heure du dernier test
          effectué. La colomne ``Prochain dans'' mentionne le temps
          restsnt avant le prochain test.
          
   La colonne ``État''.
          La colonne ``État'' contient l'état du service, une cellule par
          service. Si le dernier test a reussi alors la cellule est sans
          couleur (en gris) et le contenu est le résumé du dernier échec.
          Si le dernier test a échoué la cellule a un fond rouge et
          contient le mot échec suivi par un résumé de cet échec,
          typiquement le nom des machines qui n'ont pas passé le test
          avec succes.
          
   Légende des couleurs.
          
          + Quand Tout va bien, aucune couleur n'apparait.
          + Quand un service est tombé, le service et son groupe passent
            au rouge. Les services du même groupe qui fonctionnent sont
            vert afin de bien faire la distinction entre ce qui
            fonctionne et ce qui ne fonctionne pas pour l'ensemble des
            machines du groupe.
          + Quand un service n'est pas encore testé la cellule a un fond
            jaune.
          + Quund un service est inhibé la cellule a un fond bleu.
          + Les groupes sont présentés suivant l'ordre suivant: rouge,
            bleu , et alphabéthique.
          + Pour chaque groupe, les services sont présentés suivant
            l'ordre suivant : rouge, bleu , jaune et alphabéthique.
            
6. Le tableau des clients

   [INLINE]
   
   CAPTION: Le tableau des clients, sans sélection
   
   Par défaut, la vue croisée liste les alias dans la première colonne
   mais ne détaille rien.
   
   [INLINE]
   
   CAPTION: Le tableau des clients, une sélection
   
   Pour voir le détail d'un alias, sélectionnez-le dans la colonne
   ``Liste'' et cliquez sur le bouton Envoyer. Vous pouvez effectuer une
   sélection multiple.
   
   [INLINE]
   
   CAPTION: Le tableau des alias, tous sélectionnés
   
   Pour sélectionner ou déselectionner tous les clients, vous utilisez
   les boutons radio ``tous'' ou ``aucun'' et cliquez sur le bouton
   envoyer.
   
7. Le tableau historique

   [INLINE]
   
   CAPTION: Le tableau historique
   
   En rouge, les alertes. En vert, les alerts.
   
   Vous choisissez le nombre de lignes à afficher dans le champs Nb
   lignes. Pour mettre en évidence les dernieres alertes, utilisez le
   menu déroulant Filtre. Les dernières alertes intervenues dans
   l'intervale choisi sont affichées sur un fond blanc cassé.
   
8. Licence

   Ce document est placé sous la licence
   http://www.opencontent.org/opl.shtml. Ceci signifie que ce document
   vous est livré sans garantie, que vous pouvez l'utiliser, le
   distribuer, le modifier à votre guise en respectant les conditions
   suivantes: vous devez clairement spécifier la nature et le contenu des
   modifications, leur date et conserver la licence OpenContent. Si vous
   le vendez, vous vendez le contenant, pas le contenu. Ceci est un
   résumé. Lisez complètement la licence (en anglais) pour obtenir plus
   de détails. Une adaptation française existe
   http://www.linux-france.org/article/these/licence/OPL_FR.txt.
